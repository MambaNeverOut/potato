(this.webpackJsonptomato=this.webpackJsonptomato||[]).push([[0],{203:function(e,t,n){e.exports=n(425)},212:function(e,t,n){},213:function(e,t,n){},237:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},291:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},400:function(e,t,n){},402:function(e,t,n){},405:function(e,t,n){},406:function(e,t,n){},422:function(e,t,n){},424:function(e,t,n){},425:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(5),c=n.n(r),s=n(25),i=(n(212),n(48)),u=n(31),l=Object(u.a)(),d=(n(213),n(21)),p=(n(214),n(200)),m=(n(50),n(22)),f=n(13),h=n.n(f),v=n(23),y=n(16),T=n(17),b=n(19),E=n(18),O=n(20),g=(n(60),n(7)),j=(n(426),n(97)),k=function(e){return{type:"UPDATE_TODO",payload:e}},w=n(191),D=n.n(w).a.create({baseURL:"https://gp-server.hunger-valley.com/",headers:{"t-app-id":"jsRqyboNdXtnuE2GHZKRuzPv","t-app-secret":"xPp9SBcr5szSvxys24LUD1Gu"}});D.interceptors.request.use((function(e){var t=localStorage.getItem("x-token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(function(e){return console.log(e),Promise.reject(e)})),D.interceptors.response.use((function(e){return e.headers["x-token"]&&localStorage.setItem("x-token",e.headers["x-token"]),e}),(function(e){return console.log(e),401===e.response.status&&(console.log("\u91cd\u5b9a\u5411"),l.push("login")),Promise.reject(e)}));var N,x=D,C=(n(237),n(82),n(36)),_=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).onKeyUp=function(e){13===e.keyCode&&""!==n.state.description&&n.postTodo()},n.postTodo=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("todos",{description:n.state.description});case 3:t=e.sent,n.props.addTodo(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:n.setState({description:""});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.state={description:""},n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.state.description,n=t?o.a.createElement(g.a,{type:"enter",onClick:this.postTodo}):o.a.createElement("span",null);return o.a.createElement("div",{className:"TodoInput",id:"TodoInput"},o.a.createElement(C.a,{placeholder:"\u6dfb\u52a0\u65b0\u4efb\u52a1",allowClear:!0,value:t,suffix:n,onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:this.onKeyUp}))}}]),t}(o.a.Component),I={addTodo:function(e){return{type:"ADD_TODO",payload:e}}},Y=Object(s.b)((function(e,t){return Object(d.a)({},t)}),I)(_),M=(n(287),n(201)),A=(n(289),function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).updateTodo=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.completed&&(t.completed_at=new Date),e.prev=1,e.next=4,x.put("todos/".concat(n.props.id),t);case 4:a=e.sent,n.props.updateTodo(a.data.resource),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),n.editTodo=function(){n.props.editTodo(n.props.id)},n.onKeyUp=function(e){13===e.keyCode&&""!==n.state.editText&&n.updateTodo({description:n.state.editText})},n.state={editText:n.props.description},n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",{className:"editing"},o.a.createElement("input",{type:"text",value:this.state.editText,onChange:function(t){return e.setState({editText:t.target.value})},onKeyUp:this.onKeyUp}),o.a.createElement("div",{className:"icon-wrapper"},o.a.createElement(g.a,{type:"enter"}),o.a.createElement(g.a,{type:"delete",theme:"filled",onClick:function(t){return e.updateTodo({deleted:!0})}}))),n=o.a.createElement("span",{className:"text",onDoubleClick:this.editTodo},this.props.description);return o.a.createElement("div",{className:"TodoItem",id:"TodoItem"},o.a.createElement(M.a,{checked:this.props.completed,onChange:function(t){return e.updateTodo({completed:t.target.checked})}}),this.props.editing?t:n)}}]),t}(o.a.Component)),S={updateTodo:k,editTodo:function(e){return{type:"EDIT_TODO",payload:e}}},U=Object(s.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}),S)(A),P=(n(290),function(e){function t(){return Object(y.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Todos",id:"Todos"},o.a.createElement(Y,null),o.a.createElement("div",{className:"todoList"},this.unCompletedTodos.map((function(e){return o.a.createElement(U,Object.assign({key:e.id},e))}))))}},{key:"unDeletedTodos",get:function(){return this.props.todos.filter((function(e){return!e.deleted}))}},{key:"unCompletedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return!e.completed}))}},{key:"completedTodos",get:function(){return this.unDeletedTodos.filter((function(e){return e.completed}))}}]),t}(o.a.Component)),H=Object(s.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}))(P),B=(n(291),n(292),n(199)),K=(n(294),function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).state={countDown:n.props.timer},n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;N=setInterval((function(){var t=e.state.countDown;e.setState({countDown:t-1e3}),document.title="".concat(e.countDown," - \u756a\u8304APP"),t<1e3&&(document.title="\u756a\u8304APP",e.props.onFinish(),clearInterval(N))}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(N)}},{key:"render",value:function(){var e=1-this.state.countDown/this.props.duration;return o.a.createElement("div",{className:"CountDown",id:"CountDown"},o.a.createElement("img",{src:"/images/time.svg",alt:""}),o.a.createElement("span",{className:"restTime"},this.countDown),o.a.createElement("div",{className:"progress",style:{width:"".concat(100*e,"%")}}))}},{key:"countDown",get:function(){var e=Math.floor(this.state.countDown/1e3/60),t=Math.floor(this.state.countDown/1e3%60);return"".concat(e<10?"0".concat(e):e,":").concat(t<10?"0".concat(t):t)}}]),t}(o.a.Component)),L=(n(295),B.a.confirm),F=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).onKeyUp=function(e){13===e.keyCode&&""!==n.state.description&&(n.updateTomato({description:n.state.description,ended_at:new Date}),n.setState({description:""}))},n.onFinish=function(){n.forceUpdate()},n.abortTomato=function(){n.updateTomato({aborted:!0}),document.title="\u756a\u8304APP"},n.showConfirm=function(){L({title:"\u60a8\u76ee\u524d\u6b63\u5728\u4e00\u4e2a\u756a\u8304\u5de5\u4f5c\u65f6\u95f4\u4e2d\uff0c\u8981\u653e\u5f03\u8fd9\u4e2a\u756a\u8304\u5417\uff1f",onOk:function(){n.abortTomato()},onCancel:function(){console.log("\u53d6\u6d88")},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},n.updateTomato=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.put("tomatoes/".concat(n.props.unfinishedTomato.id),t);case 3:a=e.sent,n.props.updateTomato(a.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),n.state={description:""},n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("div",null);if(void 0===this.props.unfinishedTomato)t=o.a.createElement(m.a,{className:"startTomatoButton",onClick:function(t){return e.props.startTomato()}},"\u5f00\u59cb\u756a\u8304");else{var n=Date.parse(this.props.unfinishedTomato.started_at),a=this.props.unfinishedTomato.duration,r=(new Date).getTime();if(r-n>a)t=o.a.createElement("div",{className:"inputWrapper"},o.a.createElement(C.a,{value:this.state.description,placeholder:"\u8bf7\u8f93\u5165\u4f60\u521a\u521a\u5b8c\u6210\u7684\u4efb\u52a1",onChange:function(t){return e.setState({description:t.target.value})},onKeyUp:function(t){return e.onKeyUp(t)}}),o.a.createElement(g.a,{type:"close-circle",className:"abort",onClick:this.showConfirm}));else if(r-n<a){var c=a-r+n;t=o.a.createElement("div",{className:"countDownWrapper"},o.a.createElement(K,{timer:c,onFinish:this.onFinish,duration:a}),o.a.createElement(g.a,{type:"close-circle",className:"abort",onClick:this.showConfirm}))}}return o.a.createElement("div",{className:"TomatoAction",id:"TomatoAction"},t)}}]),t}(o.a.Component),W=n(29),G=(n(400),function(e){return o.a.createElement("div",{className:"TomatoItem",id:"TomatoItem"},o.a.createElement("span",{className:"timeRange"},Object(W.format)(e.started_at,"H:mm")," - ",Object(W.format)(e.ended_at,"H:mm")),o.a.createElement("span",{className:"description"},e.description))}),R=function(e){for(var t=[],n=0;n<e.count;n++)t.push(o.a.createElement("img",{src:"/images/tomato.svg",key:n,alt:""}));return o.a.createElement("span",null,t)},z=function(e){function t(){return Object(y.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.dates.map((function(t){var n=e.props.finishedTomatoes[t];return o.a.createElement("div",{key:t,className:"dailyTomatoes"},o.a.createElement("div",{className:"title"},o.a.createElement("span",{className:"dateTime"},Object(W.format)(t,"M\u6708DD\u65e5")),o.a.createElement(R,{count:n.length}),o.a.createElement("span",{className:"finishedCount"},"\u5b8c\u6210\u4e86 ",o.a.createElement("strong",null,n.length)," \u4e2a\u756a\u8304")),n.map((function(e){return o.a.createElement(G,Object.assign({key:e.id},e))})))}));return o.a.createElement("div",{className:"TomatoList",id:"TomatoList"},t)}},{key:"dates",get:function(){return Object.keys(this.props.finishedTomatoes).sort((function(e,t){return Date.parse(t)-Date.parse(e)})).splice(0,3)}}]),t}(o.a.Component),q=n(57),J=n.n(q),X=function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).startTomato=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("tomatoes",{duration:15e5});case 3:t=e.sent,n.props.addTomato(t.data.resource),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Tomatoes",id:"Tomatoes"},o.a.createElement(F,{startTomato:this.startTomato,unfinishedTomato:this.unfinishedTomato,updateTomato:this.props.updateTomato}),o.a.createElement(z,{finishedTomatoes:this.finishedTomatoes}))}},{key:"unfinishedTomato",get:function(){return this.props.tomatoes.filter((function(e){return!e.description&&!e.ended_at&&!e.aborted}))[0]}},{key:"finishedTomatoes",get:function(){var e=this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}));return J.a.groupBy(e,(function(e){return Object(W.format)(e.started_at,"YYYY-MM-D")}))}}]),t}(o.a.Component),Z={addTomato:function(e){return{type:"ADD_TOMATO",payload:e}},updateTomato:function(e){return{type:"UPDATE_TOMATO",payload:e}}},$=Object(s.b)((function(e,t){return Object(d.a)({tomatoes:e.tomatoes},t)}),Z)(X),Q=(n(402),n(403),n(130)),V=(n(405),n(406),function(e){function t(){var e,n;Object(y.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(o)))).updateTodo=function(){var e=Object(v.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,x.put("todos/".concat(n.props.todo.id),t);case 4:a=e.sent,n.props.updateTodo(a.data.resource),console.log(a.data.resource),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e,t,n,o=this;return"finished"===this.props.itemType?(e="HH:mm",n=this.props.todo.updated_at,t=a.createElement("div",{className:"action"},a.createElement("span",{onClick:function(){return o.updateTodo({completed:!1})}},"\u6062\u590d"),a.createElement("span",{onClick:function(){return o.updateTodo({deleted:!0})}},"\u5220\u9664"))):"deleted"===this.props.itemType&&(e="YYYY-MM-DD",n=this.props.todo.updated_at,t=a.createElement("div",{className:"action"},a.createElement("span",{onClick:function(){return o.updateTodo({deleted:!1})}},"\u6062\u590d"))),a.createElement("div",{className:"TodoHistoryTodoItem",id:"TodoHistoryTodoItem"},a.createElement("div",{className:"text"},a.createElement("span",{className:"time"},Object(W.format)(n,e)),a.createElement("span",{className:"description"},this.props.todo.description)),a.createElement("div",{className:"action"},t))}}]),t}(a.Component)),ee={updateTodo:k},te=Object(s.b)((function(e,t){return Object(d.a)({},t)}),ee)(V),ne=Q.a.TabPane,ae=function(e){function t(){return Object(y.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.finishedDates.map((function(t){return a.createElement("div",{key:t,className:"dailyTodos"},a.createElement("div",{className:"summary"},a.createElement("div",{className:"date"},a.createElement("span",null,t),a.createElement("span",null,"\u5468\u4e94"),a.createElement("p",{className:"finishedCount"},"\u5b8c\u6210\u4e86 ",e.dailyFinishedTodos[t].length," \u4e2a\u4efb\u52a1"))),a.createElement("div",{className:"todoList"},e.dailyFinishedTodos[t].map((function(e){return a.createElement(te,{key:e.id,todo:e,itemType:"finished"})}))))})),n=this.deletedDates.map((function(t){return a.createElement("div",{key:t,className:"dailyTodos"},a.createElement("div",{className:"summary"},a.createElement("p",{className:"date"},a.createElement("span",null,t),a.createElement("span",null,"\u5468\u4e94"))),a.createElement("div",{className:"todoList"},e.dailyDeletedTodos[t].map((function(e){return a.createElement(te,{key:e.id,todo:e,itemType:"deleted"})}))))}));return a.createElement(Q.a,{defaultActiveKey:"1",className:"TodoHistoryTabs"},a.createElement(ne,{tab:"\u5df2\u5b8c\u6210\u7684\u4efb\u52a1",key:"1"},a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},t)),a.createElement(ne,{tab:"\u5df2\u5220\u9664\u7684\u4efb\u52a1",key:"2"},a.createElement("div",{className:"TodoHistory",id:"TodoHistory"},n)))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"deletedTodos",get:function(){return this.props.todos.filter((function(e){return e.deleted}))}},{key:"dailyFinishedTodos",get:function(){return J.a.groupBy(this.finishedTodos,(function(e){return Object(W.format)(e.updated_at,"YYYY-MM-D")}))}},{key:"dailyDeletedTodos",get:function(){return J.a.groupBy(this.deletedTodos,(function(e){return Object(W.format)(e.updated_at,"YYYY-MM-D")}))}},{key:"finishedDates",get:function(){return Object.keys(this.dailyFinishedTodos).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}},{key:"deletedDates",get:function(){return Object.keys(this.dailyDeletedTodos).sort((function(e,t){return Date.parse(t)-Date.parse(e)}))}}]),t}(a.Component),oe=Object(s.b)((function(e,t){return Object(d.a)({todos:e.todos},t)}),{})(ae),re=function(e){function t(){return Object(y.a)(this,t),Object(b.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Statistics",id:"Statistics"},o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("span",null,"\u7edf\u8ba1"),o.a.createElement("span",null,"\u4e00\u5468\u7d2f\u8ba1"),o.a.createElement("span",null,this.WeekTomatoes.length)),o.a.createElement("li",null,o.a.createElement("span",null,"\u76ee\u6807"),o.a.createElement("span",null,"\u4eca\u65e5\u76ee\u6807"),o.a.createElement("span",null,this.todayGoal.length,"/8")),o.a.createElement("li",null,o.a.createElement("span",null,"\u756a\u8304\u5386\u53f2"),o.a.createElement("span",null,"\u7d2f\u8ba1\u5b8c\u6210\u756a\u8304"),o.a.createElement("span",null,this.finishedTomatoes.length)),o.a.createElement("li",null,o.a.createElement("span",null,"\u4efb\u52a1\u5386\u53f2"),o.a.createElement("span",null,"\u7d2f\u8ba1\u5b8c\u6210\u4efb\u52a1"),o.a.createElement("span",null,this.finishedTodos.length))),o.a.createElement(oe,null))}},{key:"WeekTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted})).filter((function(e){return Object(W.differenceInDays)(new Date,e.ended_at)<=7}))}},{key:"finishedTodos",get:function(){return this.props.todos.filter((function(e){return e.completed&&!e.deleted}))}},{key:"finishedTomatoes",get:function(){return this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted}))}},{key:"todayGoal",get:function(){return this.props.tomatoes.filter((function(e){return e.description&&e.ended_at&&!e.aborted})).filter((function(e){return Object(W.format)(e.ended_at,"YYYY-MM-D")===Object(W.format)(new Date,"YYYY-MM-D")}))}},{key:"dailyTodos",get:function(){return J.a.groupBy(this.finishedTodos,(function(e){return Object(W.format)(e.updated_at,"YYYY-MM-D")}))}}]),t}(o.a.Component),ce=Object(s.b)((function(e,t){return Object(d.a)({todos:e.todos,tomatoes:e.tomatoes},t)}),{})(re),se=a.createElement(j.a,null,a.createElement(j.a.Item,{key:"1"}),a.createElement(j.a.Item,{key:"2"},a.createElement(g.a,{type:"logout",onClick:function(){localStorage.setItem("x-token",""),l.push("/login")}})," \u6ce8\u9500")),ie=function(e){function t(e){var n;return Object(y.a)(this,t),(n=Object(b.a)(this,Object(E.a)(t).call(this,e))).getTodos=Object(v.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("todos");case 3:t=e.sent,a=t.data.resources.map((function(e){return Object.assign({},e,{editing:!1})})),n.props.initTodos(a),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.getTomatoes=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("tomatoes");case 3:t=e.sent,n.props.initTomatoes(t.data.resources),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.getMe=Object(v.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("me");case 2:t=e.sent,n.setState({user:t.data});case 4:case"end":return e.stop()}}),e)}))),n.state={user:{}},n}return Object(O.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMe();case 2:return e.next=4,this.getTodos();case 4:return e.next=6,this.getTomatoes();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.createElement("div",{className:"Home",id:"Home"},a.createElement("header",null,a.createElement("span",{className:"logo"},a.createElement("img",{src:"/images/tomato.svg",alt:""}),a.createElement("h1",null,"\u756a\u8304Todo")),a.createElement(p.a,{overlay:se},a.createElement(m.a,null,a.createElement("span",null,"\u4f60\u597d\uff0c",this.state.user&&this.state.user.account),a.createElement(g.a,{type:"down"})))),a.createElement("main",null,a.createElement($,null),a.createElement(H,null)),a.createElement(ce,null))}}]),t}(a.Component),ue={initTodos:function(e){return{type:"INIT_TODOS",payload:e}},initTomatoes:function(e){return{type:"INIT_TOMATOES",payload:e}}},le=Object(s.b)((function(e,t){return Object(d.a)({},t)}),ue)(ie),de=n(67),pe=n(96),me=n(79);n(422);var fe=function(e){var t=o.a.useState({account:"",password:""}),n=Object(pe.a)(t,2),a=n[0],r=n[1],c=function(e,t){r(Object(d.a)({},a,Object(de.a)({},e,t)))},s=function(){var t=Object(v.a)(h.a.mark((function t(){var n,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.account,o=a.password,t.prev=1,t.next=4,x.post("sign_in/user",{account:n,password:o});case 4:e.history.push("/"),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"Login",id:"Login"},o.a.createElement("h1",null,"\u756a\u8304\u95f9\u949f\u767b\u5f55"),o.a.createElement(C.a,{placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d",prefix:o.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),allowClear:!0,value:a.account,onChange:function(e){return c("account",e.target.value)}}),o.a.createElement(C.a.Password,{value:a.password,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(e){return c("password",e.target.value)}}),o.a.createElement(m.a,{className:"loginButton",type:"primary",onClick:s},"\u767b\u5f55"),o.a.createElement("p",null,"\u5982\u679c\u4f60\u6ca1\u6709\u8d26\u53f7\uff0c\u8bf7\u7acb\u5373 ",o.a.createElement(me.a,{to:"/signUp"},"\u6ce8\u518c")))};n(424);var he=function(e){var t=o.a.useState({account:"",password:"",passwordConformation:""}),n=Object(pe.a)(t,2),a=n[0],r=n[1],c=function(e,t){r(Object(d.a)({},a,Object(de.a)({},e,t)))},s=function(){var t=Object(v.a)(h.a.mark((function t(){var n,o,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.account,o=a.password,r=a.passwordConformation,t.prev=1,t.next=4,x.post("sign_up/user",{account:n,password:o,password_confirmation:r});case 4:e.history.push("/"),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}();return o.a.createElement("div",{className:"Component",id:"SignUp"},o.a.createElement("h1",null,"\u756a\u8304\u95f9\u949f\u6ce8\u518c"),o.a.createElement(C.a,{placeholder:"\u8bf7\u8f93\u5165\u4f60\u7684\u7528\u6237\u540d",prefix:o.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),allowClear:!0,value:a.account,onChange:function(e){return c("account",e.target.value)}}),o.a.createElement(C.a.Password,{value:a.password,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(e){return c("password",e.target.value)}}),o.a.createElement(C.a.Password,{placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801",value:a.passwordConformation,onChange:function(e){return c("passwordConformation",e.target.value)}}),o.a.createElement(m.a,{className:"loginButton",type:"primary",onClick:s},"\u6ce8\u518c"),o.a.createElement("p",null,"\u5982\u679c\u4f60\u6709\u8d26\u53f7\uff0c\u8bf7\u7acb\u5373 ",o.a.createElement(me.a,{to:"/login"},"\u767b\u5f55")))};var ve=function(){return o.a.createElement(i.b,{history:l},o.a.createElement(i.a,{exact:!0,path:"/",component:le}),o.a.createElement(i.a,{path:"/login",component:fe}),o.a.createElement(i.a,{path:"/signUp",component:he}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=n(66),Te=n(70),be=Object(ye.b)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TODO":return[].concat(Object(Te.a)(e),[t.payload]);case"INIT_TODOS":return Object(Te.a)(t.payload);case"UPDATE_TODO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"EDIT_TODO":return e.map((function(e){return e.id===t.payload?Object.assign({},e,{editing:!0}):Object.assign({},e,{editing:!1})}));default:return e}},tomatoes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TOMATO":return[t.payload].concat(Object(Te.a)(e));case"UPDATE_TOMATO":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));case"INIT_TOMATOES":return Object(Te.a)(t.payload);default:return e}}}),Ee=Object(ye.c)(be);c.a.render(o.a.createElement(s.a,{store:Ee},o.a.createElement(ve,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.6716ccf4.chunk.js.map